"use strict";(self.webpackChunkchitti_docs=self.webpackChunkchitti_docs||[]).push([[2736],{8453:(e,t,i)=>{i.d(t,{R:()=>r,x:()=>o});var n=i(6540);const a={},s=n.createContext(a);function r(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),n.createElement(s.Provider,{value:t},e.children)}},8814:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"client-app/architecture","title":"Architecture","description":"Overview","source":"@site/docs/client-app/architecture.md","sourceDirName":"client-app","slug":"/client-app/architecture","permalink":"/docs/client-app/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/client-app/architecture.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/docs/client-app/overview"},"next":{"title":"Models","permalink":"/docs/client-app/models"}}');var a=i(4848),s=i(8453);const r={},o="Architecture",c={},h=[{value:"Overview",id:"overview",level:2},{value:"Components",id:"components",level:2},{value:"Models",id:"models",level:3},{value:"Datasources",id:"datasources",level:3},{value:"Repositories",id:"repositories",level:3},{value:"Use cases",id:"use-cases",level:3},{value:"Injector",id:"injector",level:3},{value:"State Management",id:"state-management",level:3},{value:"Widgets",id:"widgets",level:3},{value:"Pages",id:"pages",level:3}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"architecture",children:"Architecture"})}),"\n",(0,a.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,a.jsxs)(t.p,{children:["The CHITTI. client application is built with the Flutter SDK following the clean architectural principles and taking guidance from the ",(0,a.jsx)(t.a,{href:"https://developer.android.com/topic/architecture",children:"Android Architectural Components"})," such as ",(0,a.jsx)(t.strong,{children:"modularization, unidirectional dataflow and Hilt-like injection"}),"."]}),"\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.strong,{children:"Flutter SDK"})," ",(0,a.jsx)(t.a,{href:"#references-1",children:(0,a.jsx)("sup",{children:"1"})})," is a comprehensive framework that aids in building beautiful, native-like cross-platform applications from a single codebase with the help of the Flutter Engine which renders content over native applications as a fragment, making use of the rich performance and optimization delivered by the ",(0,a.jsx)(t.strong,{children:"Dart"})," ",(0,a.jsx)(t.a,{href:"#references-2",children:(0,a.jsx)("sup",{children:"2"})})," programming language."]}),"\n",(0,a.jsx)(t.h2,{id:"components",children:"Components"}),"\n",(0,a.jsx)(t.p,{children:"The components of the client application can be primary divided into 3 layers: data, domain and presentation layer."}),"\n",(0,a.jsxs)(t.p,{children:["\u2022\xa0",(0,a.jsx)(t.strong,{children:"The data layer"})," deals with data and operations related to maintaining the application data. The data layer includes datasources, implementation of repositories and model with their functions."]}),"\n",(0,a.jsxs)(t.p,{children:["\u2022\xa0",(0,a.jsx)(t.strong,{children:"The domain layer"})," deals with handling busssiness logic and performing common repetitive operations and defined the scope of code to the scope of the bussiness activity. The domain layer includes abstract repository patterns, entities that the bussiness deals with, and use cases that the application needs to handle to meet bussiness requirements."]}),"\n",(0,a.jsxs)(t.p,{children:["\u2022\xa0",(0,a.jsx)(t.strong,{children:"The presentation layer"})," deals with interfaces that the user interacts with. The presentation layer includes widgets and pages that are visible to the user, injectors and state management that aid in providing the state to the respective widgets and pages to be used to draw the elements on the screen and making sure the data is always up-to-date and synchronized."]}),"\n",(0,a.jsx)(t.h3,{id:"models",children:"Models"}),"\n",(0,a.jsx)(t.p,{children:"Models are the digital implementation of real-world objects. They include properties and methods that help identify the object and define boundaries around which/how the object can be handled. The CHITTI. application makes use of the following models throughout the scope of the application:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsx)(t.li,{children:"Semester"}),"\n",(0,a.jsx)(t.li,{children:"Subject"}),"\n",(0,a.jsx)(t.li,{children:"Unit"}),"\n",(0,a.jsx)(t.li,{children:"UnitWithResources"}),"\n",(0,a.jsx)(t.li,{children:"CompletedResource"}),"\n",(0,a.jsx)(t.li,{children:"Roadmap"}),"\n",(0,a.jsx)(t.li,{children:"RoadmapItem"}),"\n",(0,a.jsx)(t.li,{children:"Cheatsheet"}),"\n",(0,a.jsx)(t.li,{children:"Video"}),"\n",(0,a.jsx)(t.li,{children:"Notes"}),"\n",(0,a.jsx)(t.li,{children:"Important Questions"}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:["These specific models are defined based on the ",(0,a.jsx)(t.strong,{children:"bussiness model"})," of CHITTI. and are ",(0,a.jsx)(t.a,{href:"https://www.geeksforgeeks.org/final-static-variable-java/",children:"static final"})," classes that are implemented in the data layer to help set constraints on the various operations that can be performed on data of the particular type. More about the schemas of each of the above models can be read ",(0,a.jsx)(t.a,{href:"models",children:(0,a.jsx)(t.strong,{children:"here"})}),"."]}),"\n",(0,a.jsx)(t.h3,{id:"datasources",children:"Datasources"}),"\n",(0,a.jsxs)(t.p,{children:["Datasources are specialized classes that hold, provide and allow for modification of application data. For CHITTI. the API responses from the serverlet application acts as the primary datasource and the ",(0,a.jsx)(t.strong,{children:"primary source of truth"}),"."]}),"\n",(0,a.jsxs)(t.p,{children:["The data source uses the ",(0,a.jsx)(t.code,{children:"fetch"})," method provided by the ",(0,a.jsx)(t.code,{children:"http"})," package to make the HTTP requests to the serverlet."]}),"\n",(0,a.jsxs)(t.p,{children:["For convenience, better state management and better user experience, a copy of the data from the primary source of truth is cloned and cached in the repository for faster, cheaper and easier access to data, i.e, acts as the ",(0,a.jsx)(t.strong,{children:"secondary source of truth"}),", however as an ",(0,a.jsx)(t.strong,{children:"online-first experience"}),", the data from the primary source of truth, the application data from the APIs serve as the final ultimate source of truth."]}),"\n",(0,a.jsx)(t.h3,{id:"repositories",children:"Repositories"}),"\n",(0,a.jsx)(t.p,{children:"Repositories are specialized classes that interface the presentation layer and data sources to expose the application data from multiple data sources to provide the latest source of truth to the presentation layer.\nDue to high upsurge in the HTTP requests that are sent to the servelet from the client application, proper management of the source of truth becomes inevitable."}),"\n",(0,a.jsxs)(t.p,{children:["As per the requirement of the product owner, the application can only be run only from a single device instance at a particular instance of time. This eliminates the chance of deadlock on the data present in the server. Hence, optimal fetching of data can be implemented by using the repository through cloning the application data from the server during app startup, and then making changes to both offline and online datasources implemented through the repository to reduce the HTTP ",(0,a.jsx)(t.code,{children:"GET"})," requests, reducing the bandwith on the server."]}),"\n",(0,a.jsxs)(t.p,{children:["Thus, the client application, extends the ",(0,a.jsx)(t.a,{href:"https://github.com/TheAnanta/chitti-app/blob/main/lib/data/semester_repository.dart",children:(0,a.jsx)(t.strong,{children:(0,a.jsx)(t.code,{children:"SemesterRepository"})})})," to interface the application data pertaining to the relevant semester details of a particular authenticated student and the presentation layer. The data in the ",(0,a.jsx)(t.code,{children:"SemesterRepository"})," is further utilized to fetch the specific topic-related data and content at runtime on request by the ",(0,a.jsx)(t.a,{href:"https://github.com/TheAnanta/chitti-app/blob/main/lib/data/unit_repository.dart",children:(0,a.jsx)(t.strong,{children:(0,a.jsx)(t.code,{children:"UnitRepository"})})})," which holds the latest data about each individual topic of a unit present in a subject, stored as cache in the internal memory, to be retrived for further use and upholds the latest changes to the data to synchronize indirectly with the data present in the server."]}),"\n",(0,a.jsx)(t.h3,{id:"use-cases",children:"Use cases"}),"\n",(0,a.jsx)(t.p,{children:"Use cases are constraint-bounded well-defined functions that are the backbone for the bussiness activity of the application. They are functions which are called frequently from different parts of the application to serve the purpose of the application. They expose functions, methods and data through well-defined strucutre and schema like data fetching, modifying data, etc."}),"\n",(0,a.jsx)(t.p,{children:"The CHITTI app heavily relies on two major use cases:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsx)(t.li,{children:"fetchSemester"}),"\n",(0,a.jsx)(t.li,{children:"fetchResourcesForUnit"}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:["More about the use cases, their input and output schemas and usage can be understood ",(0,a.jsx)(t.a,{href:"usecases",children:(0,a.jsx)(t.strong,{children:"here"})}),"."]}),"\n",(0,a.jsx)(t.h3,{id:"injector",children:"Injector"}),"\n",(0,a.jsx)(t.p,{children:"The injector is a specialized static class that exposes the repository to the presentation layer, providing the specific instance of a specific class that is very costly to construct to the descendants of the application widget tree below the initialization."}),"\n",(0,a.jsxs)(t.p,{children:["According to the ",(0,a.jsx)(t.a,{href:"https://developer.android.com/topic/architecture",children:"Android Architectural Components"}),", injection of specific dependencies caters for the ability to be able to develop and test efficient code to work with different sources, i.e, abstracts the logic into well-defined classes that can swapped out at any particular instance of time without disturbing the harmonical balance of the application, thus avoiding any potential coupling within the application."]}),"\n",(0,a.jsxs)(t.p,{children:["In the context of the CHITTI., the injector injects a ",(0,a.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Singleton_pattern",children:(0,a.jsx)(t.strong,{children:"singleton"})})," instance of the ",(0,a.jsx)(t.code,{children:"SemesterRepository"})," and ",(0,a.jsx)(t.code,{children:"UnitRepository"})," to the descendants of the ",(0,a.jsx)(t.code,{children:"MaterialApp"})," widget."]}),"\n",(0,a.jsx)(t.h3,{id:"state-management",children:"State Management"}),"\n",(0,a.jsx)(t.p,{children:"State management libraries maintain (fetched and updated) the application data provided by the repositories through the static singleton instance of the injector contains the application state based on user interaction. They maintain a history of the state to be able to produce the dynamic user interace in the application upon binding with the stateless state holder views."}),"\n",(0,a.jsxs)(t.p,{children:["In CHITTI., the in-built state management functionality provided by the Flutter SDK such as ",(0,a.jsx)(t.a,{href:"https://api.flutter.dev/flutter/foundation/ChangeNotifier-class.html",children:(0,a.jsx)(t.code,{children:"ChangeNotifier"})}),", ",(0,a.jsx)(t.a,{href:"https://api.flutter.dev/flutter/widgets/ValueListenableBuilder-class.html",children:(0,a.jsx)(t.code,{children:"ValueListenableBuilder"})})," and ",(0,a.jsx)(t.a,{href:"https://api.flutter.dev/flutter/widgets/State/setState.html",children:(0,a.jsx)(t.code,{children:"setState"})})," are used to manage and share state across the application with help from the singleton instance of the related repositories through the injector."]}),"\n",(0,a.jsx)(t.h3,{id:"widgets",children:"Widgets"}),"\n",(0,a.jsx)(t.p,{children:"Widgets are specialized Dart classes that are defined to be producing a stateless/stateful user interface after a series of computatations, measurements, composition and painting."}),"\n",(0,a.jsx)(t.p,{children:"Flutter follows the declarative pattern of writing code, i.e, the user interface is built/updated on the application state that is provided rather than\nuser called functions to set the application state, i.e, in laymans terms, what you provide is what you get."}),"\n",(0,a.jsx)(t.p,{children:"In CHITTI., most of the widgets are simple stateless widgets due to their low-cost of construction, simplicity of lifecycle, and static data they display. The state management libraries act as the primary source of stateless holders for the app state to be displayed with the lifeless stateless widgets."}),"\n",(0,a.jsx)(t.h3,{id:"pages",children:"Pages"}),"\n",(0,a.jsx)(t.p,{children:"Pages are stateless/stateful widgets that are a combination of specific components rendered to build complex user interface screens that help establish the userflow."}),"\n",(0,a.jsx)(t.p,{children:"The primary pages of CHITTI. are follows:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsx)(t.li,{children:"Splash Page"}),"\n",(0,a.jsx)(t.li,{children:"Login Page"}),"\n",(0,a.jsx)(t.li,{children:"Home Page"}),"\n",(0,a.jsx)(t.li,{children:"Dashboard Fragment"}),"\n",(0,a.jsx)(t.li,{children:"Subject Page"}),"\n",(0,a.jsx)(t.li,{children:"Topic Page"}),"\n",(0,a.jsx)(t.li,{children:"PDF Viewer Page"}),"\n",(0,a.jsx)(t.li,{children:"Video Player Page"}),"\n",(0,a.jsx)(t.li,{children:"Profile Page"}),"\n"]})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}}}]);